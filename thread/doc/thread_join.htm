<HTML>
	<HEAD>
		<STYLE TYPE="text/css">
		<!--
			PRE.cjk { font-family: "DejaVu Sans", monospace }
			CODE.cjk { font-family: "DejaVu Sans", monospace }
			a:link { color: #0000FF; }
			a:visited { color: #0000FF; }
			a:hover { color: #0000FF; }
			a:active{ color: #0000FF; }
		-->
		</STYLE>
	</HEAD>
	
	<BODY BGCOLOR="#ffffff">
		
		<HR SIZE=1 NOSHADE>
		
		<H4>&nbsp;NAME</H4>
		
		<BLOCKQUOTE>
			thread_join - Wait for a thread to complete and retrieve its return value
		</BLOCKQUOTE>
		
		<H4>&nbsp;SYNOPSIS</H4>
		
		<PRE CLASS="western" STYLE="margin-left: 0.39in; margin-right: 0.39in"><CODE CLASS="western">#include "<A HREF="thread_h.htm">thread.h</A>"</CODE></PRE>
		
		<PRE CLASS="western" STYLE="margin-left: 0.39in; margin-right: 0.39in">int thread_join(thread_handle handle, void **return_value);</PRE>

		<H4>&nbsp;DESCRIPTION</H4>
		
		<BLOCKQUOTE>
			The <i>thread_join()</i> function suspends execution of the current thread until the thread whose handle is specified by the <i>handle</i>
			argument completes. <i>thread_join()</i> may optionally retrieve the return value of the thread.
		</BLOCKQUOTE>
		
		<BLOCKQUOTE>
			The <i>handle</i> argument specifies a <b>thread_handle</b> value previously returned by <A HREF="thread_create.htm">thread_create()</A>.
		</BLOCKQUOTE>
		
		<BLOCKQUOTE>
			The <i>return_value</i> argument specifies the address of a void pointer to write the return value to.
			<BR>
			If <i>return_value</i> is NULL then the return value is disregarded.
		</BLOCKQUOTE>
		
		<H4>&nbsp;RETURN VALUE</H4>
		
		<BLOCKQUOTE>
			Upon successful completion the function returns zero.
		</BLOCKQUOTE>
		
		<H4>&nbsp;ERRORS</H4>
		
		<BLOCKQUOTE>
			In case of an error one of the following values will be returned:
		</BLOCKQUOTE>
		
		<DL>
			<DL>
				<BLOCKQUOTE>
					<DT STYLE="margin-right: 0.39in; margin-bottom: 0.2in">[THREAD_ERROR_INITIALIZATION_ERROR]</DT>
					<DT STYLE="margin-right: 0.39in; margin-bottom: 0.2in">
						WIN64 only: A call to malloc() failed during thread creation, the return value cannot be obtained.
					</DT>
				</BLOCKQUOTE>
				
				<BLOCKQUOTE>				
					<DT STYLE="margin-right: 0.39in; margin-bottom: 0.2in">[THREAD_ERROR_SYSTEM_CALL_ERROR]</DT>
					<DT STYLE="margin-right: 0.39in; margin-bottom: 0.2in">
						A call to an operating system function has failed, the return value cannot be obtained.
					</DT>
				</BLOCKQUOTE>
			</DL>
	
		</DL>
		
		<H4>&nbsp;EXAMPLES</H4>
	
<DIV STYLE="margin-left: 0.39in; margin-bottom: 0.2in">
<PRE>
void main(void)
{
	thread_handle  handle;
	void          *return_value;
	
	thread_create(thread, NULL, &amp;handle);
	
	thread_join(handle, &amp;return_value);
	
	printf("The thread returned its address as: %p\n", return_value);
}

void *thread(void *argument)
{
	printf("This thread is located at address: %p\n", thread);
	
	return (void *)thread;
}
</PRE>
</DIV>
		
		<HR SIZE=1 NOSHADE>
		
		<CENTER>
			<BLOCKQUOTE>
				Copyright © 2010 Aaron Clovsky
			</BLOCKQUOTE>
		</CENTER>
		
	</BODY>
</HTML>